<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
       xmlns:az="http://java.sun.com/jsf/composite/comp">
    <h:head>
        <link rel="stylesheet" type="text/css" href="../styles/main.css" />
        <link rel="stylesheet" type="text/css" href="../styles/upload.css" />
        <link rel="stylesheet" type="text/css" href="../styles/icons.css" />

    </h:head>
    <h:body>
        <az:labHeader/>
         <h:form enctype="multipart/form-data">          
            <table class="upload-file">
                <tr>
                    <td class="upload-file-title">
                        <table>
                            <tr>
                                <td>
                                    <img src="/Az/images/icons/experiment-builder-logo.png"/>
                                </td>
                                <td>
                                    <h:outputText  value="Upload new file" styleClass="page-title"/>
                                </td>
                            </tr>
                        </table>

                    </td>
                </tr>
         
            
                <tr>
                    <td class="padd-left">
                        <p:fileUpload styleClass="upload-comp" fileUploadListener="#{codeUploader.handleFileUpload}"  
                                      mode="advanced"  
                                      update="classes"  
                                      auto="false"  
                                      sizeLimit="3000000"   
                                      allowTypes="/(\.|\/)(zip)$/"/> 
                    </td>
                </tr>
                <tr>
                    <td class="padd-left">
                        <p:dataTable id="classes" var="cls" value="#{codeUploader.classes}" selection="#{codeUploader.selectedClasses}" paginator="true" rows="20"
                                     rowKey="#{cls.id}">  
                            <p:column selectionMode="multiple"  style="width:18px"/>
                            <p:column >
                                <f:facet name="header">
                                    <h:outputText value="Name"/>
                                </f:facet>
                                <h:outputText value="#{cls.codeName}"/>  
                            </p:column>  
                            <p:column >  
                                <f:facet name="header">
                                    <h:outputText value="Type"/>
                                </f:facet>
                                <h:outputText value="#{cls.type}"/>  
                            </p:column>  
                        </p:dataTable>
                    </td>
                </tr>
                <tr>
                    <td class="padd-left">
                        <p:commandButton action="#{codeUploader.saveCode}" value="Save"/>
                    </td>
                </tr>
            </table>
        </h:form>
    </h:body>
</html>
